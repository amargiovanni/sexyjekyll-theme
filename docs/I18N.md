# Internationalization (i18n) System

This Jekyll theme includes a comprehensive internationalization system that allows you to easily translate all UI elements, labels, and text strings into multiple languages.

## Supported Languages

Currently, the theme supports the following languages:

- **English** (`en`)
- **Italian** (`it`)
- **German** (`de`)
- **French** (`fr`)
- **Spanish** (`es`)

## Configuration

### Setting the Site Language

To set your site's language, edit the `lang` parameter in `_config.yml`:

```yaml
lang: it  # Options: en, it, de, fr, es
```

This will automatically apply all translations for the selected language throughout your entire site.

### Translation File Structure

All translations are stored in `_data/i18n.yml`. The file is organized by language code, with each language containing the same set of keys organized into logical sections:

```yaml
en:
  nav:
    home: "Home"
    blog: "Blog"
  footer:
    navigation: "Navigation"
  # ... more sections
```

## Translation Sections

The i18n system covers the following areas:

### 1. Navigation (`nav`)
- Skip to content link
- Main navigation items (Home, Blog, Categories, Contacts)
- ARIA labels for accessibility

### 2. Footer (`footer`)
- Section titles (Navigation, Follow Me, Built with)
- Jekyll description
- License text
- Tagline

### 3. Blog (`blog`)
- Search functionality (placeholder, ARIA labels, clear button)
- Read more links
- Pagination controls (Previous/Next)

### 4. Posts (`post`)
- Reading time labels
- Minute singular/plural forms
- Post navigation (Previous/Next post)
- Back to blog button

### 5. Categories (`categories`)
- Page title and description
- Breadcrumb navigation
- Post count labels (singular/plural)
- Empty state messages
- Navigation buttons

### 6. Home Page (`home`)
- Call-to-action buttons
- Hero section elements

### 7. Related Posts (`related`)
- Section titles

### 8. SEO (`seo`)
- Default meta keywords

### 9. LLMS.txt (`llms`)
- Post metadata labels (Author, Published, URL, Categories)
- Section headings (Metadata, Summary, Contacts, etc.)
- Related content messages
- AI-friendly content structure

## Usage in Templates

To use translations in your Liquid templates, first assign the translation object at the top of your file:

```liquid
{% raw %}{% assign t = site.data.i18n[site.lang] %}{% endraw %}
```

Then access translations using dot notation:

```liquid
{% raw %}<a href="{{ '/blog' | relative_url }}">{{ t.nav.blog }}</a>
<h2>{{ t.categories.title }}</h2>
<button>{{ t.blog.search_placeholder }}</button>{% endraw %}
```

### Examples

#### In Layouts

```liquid
{% raw %}---
layout: default
---
{% assign t = site.data.i18n[site.lang] %}

<nav>
  <a href="/">{{ t.nav.home }}</a>
  <a href="/blog">{{ t.nav.blog }}</a>
</nav>{% endraw %}
```

#### In Includes

```liquid
{% raw %}{% assign t = site.data.i18n[site.lang] %}
<footer>
  <p>{{ t.footer.made_with_love }} {{ site.author.name }}</p>
</footer>{% endraw %}
```

#### Handling Plurals

For dynamic pluralization (like reading time or post counts):

```liquid
{% raw %}{% capture reading_time %}{{ content | reading_time }}{% endcapture %}
{{ reading_time }}
{% if reading_time == '1' %}
  {{ t.post.minute_singular }}
{% else %}
  {{ t.post.minute_plural }}
{% endif %}{% endraw %}
```

## Adding a New Language

To add support for a new language:

1. Open `_data/i18n.yml`
2. Copy the entire structure of an existing language (e.g., `en:`)
3. Add a new top-level key with the language code (e.g., `pt:` for Portuguese)
4. Translate all the strings to the new language
5. Update `_config.yml` to use the new language code if desired

Example:

```yaml
pt:
  nav:
    skip_to_content: "Pular para o conteúdo principal"
    home: "Início"
    blog: "Blog"
    # ... continue with all sections
```

6. Update the documentation to include the new language in the supported list

## Adding New Translatable Strings

When you add new hardcoded text to your templates:

1. Open `_data/i18n.yml`
2. Add the new key to the appropriate section for ALL languages
3. Provide translations for each language
4. Update your template to use the new translation key

Example - Adding a new button label:

```yaml
en:
  blog:
    # ... existing keys
    subscribe: "Subscribe to Newsletter"

it:
  blog:
    # ... existing keys
    subscribe: "Iscriviti alla Newsletter"

# ... add to all other languages
```

Then in your template:

```liquid
{% raw %}<button>{{ t.blog.subscribe }}</button>{% endraw %}
```

## Best Practices

1. **Always translate ALL languages**: When adding new strings, make sure to provide translations for all supported languages to avoid missing content.

2. **Use semantic keys**: Choose key names that describe the purpose, not the content. Use `nav.home` instead of `nav.home_text`.

3. **Group related strings**: Keep translations organized in logical sections (nav, footer, blog, etc.).

4. **Test with different languages**: Before deploying, test your site with each supported language to ensure all strings are properly translated.

5. **Keep it DRY**: If the same text appears in multiple places, reuse the same translation key.

6. **Accessibility**: Remember to translate ARIA labels and other accessibility-related strings.

7. **Singular/Plural forms**: Always provide both forms for countable items.

## Localized Date Formatting

The theme includes a custom Jekyll plugin that automatically formats dates according to the selected language.

### Using Localized Dates

In your Liquid templates, use the `localized_date` filter:

```liquid
{% raw %}{{ page.date | localized_date }}
{{ post.date | localized_date }}{% endraw %}
```

This will automatically format dates using the month names for the currently selected language:

- **English**: `15 January 2024`
- **Italian**: `15 gennaio 2024`
- **German**: `15 Januar 2024`
- **French**: `15 janvier 2024`
- **Spanish**: `15 enero 2024`

### Backward Compatibility

For backward compatibility, the `italian_date` filter is still available but is deprecated. It will always format dates in Italian regardless of the site language setting. Use `localized_date` for proper multi-language support.

## Files Modified for i18n Support

The following files have been updated to use the i18n system:

- `_includes/nav.html` - Navigation bar
- `_includes/footer.html` - Footer section
- `_includes/head.html` - SEO meta tags
- `_includes/related-posts.html` - Related posts section (with localized dates)
- `_layouts/home.html` - Home page hero
- `_layouts/blog.html` - Blog listing page (with localized dates)
- `_layouts/post.html` - Individual post page (with localized dates)
- `_layouts/category.html` - Category page (with localized dates)
- `_layouts/llms.txt` - AI-friendly content metadata (with localized dates)
- `categories.html` - Categories index page (with localized dates)
- `_plugins/localized_date.rb` - Date localization plugin

## Troubleshooting

### Translations not showing up

1. Check that `lang` is correctly set in `_config.yml`
2. Verify the translation key exists in `_data/i18n.yml` for all languages
3. Ensure you have the `{% assign t = site.data.i18n[site.lang] %}` line at the top of your template
4. Rebuild your Jekyll site (`bundle exec jekyll build`)

### Wrong language displaying

1. Verify the `lang` parameter in `_config.yml` matches one of the supported language codes
2. Clear your Jekyll cache and rebuild

### Missing translations

If you see a blank space where text should be, it means the translation key is missing. Check `_data/i18n.yml` and ensure the key exists for the current language.

## Future Enhancements

Potential improvements to the i18n system:

- Automatic language detection based on browser settings
- Language switcher UI component
- Per-page language overrides
- Date format localization
- Number format localization
- RTL (Right-to-Left) language support

## Contributing Translations

If you'd like to contribute translations for additional languages:

1. Copy the entire English (`en:`) section from `_data/i18n.yml`
2. Translate all strings to your target language
3. Test thoroughly with the theme
4. Submit a pull request with your translations

We welcome contributions for all languages!
